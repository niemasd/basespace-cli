#
# Copyright (c) 2015 Illumina, Inc.
#
# This software is provided under the terms and conditions of the
# Illumina Open Source Software License 1.
#
# You should have received a copy of the Illumina Open Source
# Software License 1 along with this program. If not, see
# <https://github.com/sequencing/licenses/>
#

"""
Create a project in BaseSpace

"""

import logging

from ..common.interface import InternalCommand

class CreateProjectException(Exception):
    pass

class CreateProject(InternalCommand):
    "create a project"

    __category__ = "Creating and listing"

    def __init__(self, app, app_args, cmd_name=None):
        super(CreateProject, self).__init__( app, app_args, self.__class__.__name__ )
        return

    def get_parser(self, prog_name):
        parser = super(CreateProject, self).get_parser(prog_name)

        parser.add_argument('project_name', nargs=1, help="name of project to create")
        return parser

    def take_action(self, parsed_args):
        try:
            project_name = parsed_args.project_name[0]
            self.api.createProject(project_name)
        except Exception as e:
            raise CreateProjectException("Cannot create project: %s" % str(e))